function getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(showPosition):console.log("Geolocation is not supported by this browser.")}function updateWeatherInfo(){weatherLocation.innerHTML=weatherObject.name,weatherCondition.innerHTML=weatherObject.weather[0].description,weatherTemprature.innerHTML=(weatherObject.main.temp-273.15).toFixed(0)+"&deg;",weatherHumitity.innerHTML=weatherObject.main.humidity.toFixed(0),weatherWindspeed.innerHTML=weatherObject.wind.speed.toFixed(0),settingsRef.once("value",function(a){"use strict";var b=a.val();if(b.dbShowColorsInWeather){var c=weatherObject.main.humidity.toFixed(0),d=(weatherObject.main.temp-273.15).toFixed(0);35>c||c>65?weatherHumitity.classList.add("bad"):c>40&&60>c?weatherHumitity.classList.add("good"):weatherHumitity.classList.add("neutral"),0>d||d>32?weatherTemprature.classList.add("bad"):d>5&&25>d?weatherTemprature.classList.add("good"):weatherTemprature.classList.add("neutral"),0>d||d>32?weatherTemprature.classList.add("bad"):d>5&&25>d?weatherTemprature.classList.add("good"):weatherTemprature.classList.add("neutral")}})}function showPosition(a){latitude=a.coords.latitude,longitude=a.coords.longitude;var b="http://maps.googleapis.com/maps/api/geocode/json?latlng="+latitude+","+longitude+"&sensor=true",c=JSON.parse(getAPI(b)),d=c.results[0].address_components[3].long_name,e=c.results[0].address_components[6].short_name.toLowerCase();weatherApiUrl="http://api.openweathermap.org/data/2.5/weather?q="+d+","+e+"&appid=eba50e31d94c44e02d93b33b9725cbe3",weatherObject=JSON.parse(getAPI(weatherApiUrl)),updateWeatherInfo()}function getAPI(a){var b=new XMLHttpRequest;return b.open("GET",a,!1),b.send(null),b.responseText}var userFirstName=document.getElementById("userFirstName"),bewegingTellerCircle=new ProgressBar.Circle("#bewegingTeller",{color:"#83a7d9",trailColor:"#f0f3f4",strokeWidth:2,trailWidth:1,duration:1500,text:{value:"0",style:null},step:function(a,b){b.setText("<h2>"+(100*b.value()*.3).toFixed(0)+"</h2><p> min</p>")}}),bewegingTeller=document.getElementById("bewegingTeller"),bewegingMessege=document.getElementById("bewegingMessege"),bewegingTellerValue,settingsRef=currentUserRef.child("settings"),settingShowColorsInWeather;settingsRef.once("value",function(a){"use strict";var b=a.val();settingShowColorsInWeather=b.dbShowColorsInWeather});var weatherLocation=document.getElementById("weatherLocation"),weatherCondition=document.getElementById("weatherCondition"),weatherTemprature=document.getElementById("weatherTemprature"),weatherHumitity=document.getElementById("weatherHumitity"),weatherWindspeed=document.getElementById("weatherWindspeed"),weerVandaagButton=document.getElementById("weerVandaagButton"),weerWeekButton=document.getElementById("weerWeekButton"),weerVandaag=document.getElementById("weerVandaag"),weerWeek=document.getElementById("weerWeek"),weerButtonSpan=document.getElementById("weerButtonSpan"),weerCard=document.getElementById("weerCard"),latitude,longitude,weatherApiUrl="http://api.openweathermap.org/data/2.5/weather?q=Amsterdam,nl&appid=eba50e31d94c44e02d93b33b9725cbe3",weatherObject=JSON.parse(getAPI(weatherApiUrl));getLocation(),updateWeatherInfo();var openWeerWeek=function(){weerWeek.style.left="0",weerVandaag.style.left="-80vw",weerButtonSpan.style.transform="translateX(45vw)"},openWeerVandaag=function(){weerVandaag.style.left="0",weerWeek.style.left="80vw",weerButtonSpan.style.transform="translateX(0)"};weerVandaagButton.onclick=openWeerVandaag,weerWeekButton.onclick=openWeerWeek,weerCard.addEventListener("swr",openWeerVandaag,!1),weerCard.addEventListener("swl",openWeerWeek,!1),("index.html"==getLocationPath()||"gezondheidsopdracht"==getLocationPath())&&currentUserRef.on("value",function(a){"use strict";var b=a.val();bewegingTellerValue=b.dbAmountOfMovement,bewegingTellerValue>=30?(bewegingTellerCircle.animate(1,function(){bewegingTellerCircle.setText("<p>Voltooid!</p>")}),bewegingMessege.innerHTML="Goed gedaan! Je hebt vandaag "+bewegingTellerValue+" minuten bewogen!"):bewegingTeller&&bewegingTellerCircle.animate(bewegingTellerValue/30,function(){bewegingTellerCircle.setText("<h2>"+bewegingTellerValue+"</h2><p> min</p>")}),userFirstName&&(userFirstName.innerHTML="Welkom "+b.dbFirstName+","),document.getElementById("loader").style.display="none",document.getElementsByTagName("main")[0].classList.remove("prevent-loading")});